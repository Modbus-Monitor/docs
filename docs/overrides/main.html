{% extends "base.html" %}

{% block content %}
  {{ super() }}
  <style>
    .pdf-download-btn {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--md-primary-fg-color);
      color: white;
      padding: 12px 16px;
      border-radius: 999px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.2);
      font-weight: 600;
      z-index: 9999;
      display: flex;
      align-items: center;
      gap: 8px;
      text-decoration: none;
      transition: background 0.3s ease;
    }
    .pdf-download-btn:hover {
      background: var(--md-accent-fg-color);
    }
    .pdf-download-btn svg {
      width: 20px;
      height: 20px;
    }
  </style>

  {% set page_pdf = page.url.replace('imported/', 'pdfs/').rstrip('/') + '.pdf' %}
  {% if 'imported/' in page.url %}
    <a href="{{ base_url }}/{{ page_pdf }}" target="_blank" class="pdf-download-btn" title="Download as PDF">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 4v16m8-8H4m4 8h8a4 4 0 004-4V8a4 4 0 00-4-4H8a4 4 0 00-4 4v8a4 4 0 004 4z" />
      </svg>
      Download PDF
    </a>
  {% endif %}
{% endblock %}
